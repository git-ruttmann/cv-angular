<div class="overlaycontainer"  (click)='back()'>
    <svg class="symbol">
        <style>
            .repeat
            {
                fill: #555555;
            }
            .activerepeat
            {
                fill: #DDDDDD;
            }
        </style>
        <defs>
            <symbol id="leftChevron" xmlns="http://www.w3.org/2000/svg" viewBox="0 -4 40.075 40.275">
                <g>
                    <path d="M24.57,34.075c-0.505,0-1.011-0.191-1.396-0.577L8.11,18.432c-0.771-0.771-0.771-2.019,0-2.79
                    L23.174,0.578c0.771-0.771,2.02-0.771,2.791,0s0.771,2.02,0,2.79l-13.67,13.669l13.67,13.669c0.771,0.771,0.771,2.021,0,2.792
                    C25.58,33.883,25.075,34.075,24.57,34.075z"/>
                </g>
            </symbol>
            <symbol perserveAspectRatio="MidXMidY" id="rightChevron" xmlns="http://www.w3.org/2000/svg" viewBox="0 -4 40.075 40.275">
                <g transform="rotate(-180 20.04,17.04)">
                    <path d="M24.57,34.075c-0.505,0-1.011-0.191-1.396-0.577L8.11,18.432c-0.771-0.771-0.771-2.019,0-2.79
                    L23.174,0.578c0.771-0.771,2.02-0.771,2.791,0s0.771,2.02,0,2.79l-13.67,13.669l13.67,13.669c0.771,0.771,0.771,2.021,0,2.792
                    C25.58,33.883,25.075,34.075,24.57,34.075z"/>
                </g>
            </symbol>
            <symbol id="openSingle" perserveAspectRatio="xMinYMin" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100">
                <path d="m 99.95,52 c -0.44,10.29 -4.29,21.18 -11.25,29.39 -6.79,8.08 -15.15,13.54 -25.28,16.49 -2.19,0.67 -5.22,1.23 -8.90,1.64 -1.46,0.15 -7.73,0.15 -9.11,0 -5.32,-0.75 -9.63,-1.68 -13.79,-3.31 -13.17,-5.51 -23.02,-15.11 -28.16,-28.18 -1.93,-4.62 -2.86,-10.08 -3.31,-13.81 -0.15,-1.37 -0.16,-7.64 0,-9.12 0.39,-3.36 0.99,-6.68 1.87,-9.73 2.39,-7.75 7.62,-17.13 15.16,-23.58 8.78,-7.50 16.83,-9.81 23.36,-11.37 6.02,-0.89 12.48,-0.98 17.64,-0.22 9.52,1.91 16.47,4.66 23.58,10.68 4.62,4.05 7.90,7.46 11.18,12.97 3.07,5.06 5.34,11.20 6.44,17.59 0.53,3.17 0.71,6.44 0.56,10.57 z m -10.59,-7.13 c -1.36,-10.50 -7.34,-19.85 -13.54,-25.34 -5.07,-4.82 -13.62,-8.16 -21.14,-9.32 -3.69,-0.18 -7.38,-0.29 -11.03,0.26 -8.80,1.22 -18.44,6.91 -24.68,14.47 -4.83,6.81 -7.22,12.69 -8.33,19.99 -0.20,1.36 -0.19,7.99 0,9.34 2.39,16.86 14.60,29.91 29.63,33.77 1.84,0.45 3.70,0.74 5.07,0.95 1.33,0.20 7.97,0.20 9.33,0 7.37,-0.86 19.72,-6.21 25.22,-13.33 8.24,-10.68 10.10,-18.73 9.47,-30.81 z m -20.42,3.41 c -1.11,1.20 -3.38,3.51 -7.48,7.62 -8.54,8.58 -8.44,8.48 -9.92,8.95 -0.51,0.16 -1.92,0.14 -2.57,-0.01 -1.40,-0.39 -1.28,-0.28 -9.72,-8.70 -3.57,-3.57 -6.72,-6.76 -7.86,-7.99 -1.94,-2.39 -1.44,-5.11 0.10,-6.83 2.05,-2.19 5.23,-2.44 7.10,-0.42 0.79,0.70 2.23,2.15 5.47,5.43 3.17,3.20 5.85,5.84 5.93,5.84 0.18,0 0.50,-0.29 5.72,-5.37 3.94,-3.84 5.50,-5.27 6.26,-5.98 2.20,-1.98 4.91,-1.54 6.82,0.36 1.80,1.80 2.10,5.13 0.10,7.14 z"/>
            </symbol>
            <symbol id="filter" perserveAspectRatio="xMinYMin" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 300 300">
                <path d="m 0.11,17.10 c 0,-11.03 8.00,-19.98 17.88,-19.98 H 281.99 c 3.68,0 7.27,1.27 10.28,3.63 8.07,6.34 10.02,18.81 4.33,27.84 l -92.06,107.91 -0.29,121.78 c -0.01,7.60 0.43,15.02 -3.33,21.35 -10.60,17.77 -17.63,20.10 -50.49,10.73 L 112.80,275.57 C 102.80,268.12 96.82,255.56 96.88,242.13 L 97.26,137.25 3.43,28.69 C 1.27,25.31 0.11,21.25 0.11,17.10 Z M 133.61,124.55 l -0.43,117.76 34.80,13.48 0.32,-131.98 79.25,-86.73 H 52.69 Z"/>
            </symbol>
            <symbol id="repeat" xmlns="http://www.w3.org/2000/svg" viewBox="140 156 76 39">
                <path class="activerepeat" d="m 126.28485,171.4635 h 18.89596 v 23.46681 h -18.89596 z"/>
                <path class="repeat" d="m 150.09738,171.4635 h 18.89596 v 23.46681 h -18.89596 z"/>
                <path class="repeat" d="m 173.9099,171.4635 h 18.89595 v 23.46681 h -18.89595 z"/>
                <path class="repeat" d="m 197.72241,171.4635 h 18.89596 v 23.46681 h -18.89596 z"/>
                <path class="repeat" d="m 221.53493,171.4635 h 18.89595 v 23.46681 h -18.89595 z"/>
                <path class="activerepeat" d="m 228.97867,168.1051 v -6.85593 h -27.70531 -63.85948 v 3.54333 h 2.65134 l -4.70932,5.36137 -4.33514,-5.36137 h 2.49636 v -7.54775 c 0,0 94.90257,-0.0794 99.3927,-0.0794 0,4.63021 0.024,10.9164 0.024,10.9164 z"/>
            </symbol>
        </defs>
    </svg>
    <div class="overlayspacer"></div>
    <div class="textbackground" id="loopoverlay">
        <svg class="loopicon">
            <use href="#repeat"></use>
        </svg>
    </div>
    <div class="overlay" id="contentoverlay">
        <div (swipeleft)="onSwipeLeft($event,-5)" (swiperight)="onSwipeRight($event,5)" (click)='catchClickOnContent($event)'>
            <div id=topnav class="textbackground" >
                <div class="backbox" (click)="onSwipeRight($event,6)">
                    <svg class="backbutton headerleft">
                        <use href="#leftChevron"></use>
                    </svg>
                </div>
                <div class="headertext">
                    <div class="textcontent masterheadertext">
                        {{localizationService.ContentMainHeader}}
                    </div>
                </div>
                <div class="backbox" (click)="onSwipeLeft($event,6)">
                    <svg class="backbutton headerright">
                        <use href="#rightChevron"></use>
                    </svg>
                </div>
            </div>
            <div class="spacerbackground">
            </div>
        </div>
        <div id="contentsidebyside" (click)='catchClickOnContent($event)'>
            <div id="left" class="textbackground" (swipeleft)="onSwipeLeft($event,-3)" (swiperight)="onSwipeRight($event,3)">
                <div class="topicview style-7">
                    <div [@topicAnimation]='TopicAnimationState' class="textcontent">
                        <div *ngFor="let entry of entries | async; trackBy: trackTopic; index as i; first as isFirst" class="entryindex" (click)="scrollTo(i)">
                            <div class="entryseparator" *ngIf="!isFirst"></div>
                            <div class="entryinner">
                                <p>{{ entry.title }}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="entry-overview-details" (click)="scrollTo(20000)">
                    <p>{{CurrentDetailLevel}}</p>
                    <svg class="filtericon">
                        <use href="#filter"></use>
                    </svg>
                </div>
            </div>
            <div class="spacerbackground" id="betweenleftandright">
            </div>
            <div id="right" class="textbackground style-7" #textbackground (swipeleft)="onSwipeLeft($event,-2)" (swiperight)="onSwipeRight($event,2)">
                <div class="textcontent" #textcontent tabindex="-1">
                    <div *ngFor="let entry of entries | async; trackBy: trackTopic; index as i" 
                        #id_{{i}} id=id_{{i}} class="entry-full">
                        <div class="entry-header-line" (click)="expandItem(entry)">
                            <div class="entry-header-text">{{ entry.title }}</div>
                            <div class="entry-header-symbol">
                                <div [hidden]="!entry.canExpand" [class.entry-expanded]="entry.expanded">
                                    <svg class="headerright">
                                        <use href="#openSingle"></use>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="entry-content" [smoothHeight]="entry.expanded">
                            <app-vita-entry [entry]="entry"></app-vita-entry>
                        </div>
                    </div>
                    <div class="entry-full" id=id_20000>
                        <div class="entry-header-line">
                            <div class="entry-header-text">{{ localizationService.FilterTitle }}</div>
                            <svg class="filtericon">
                                <use href="#filter"></use>
                            </svg>
                        </div>
                        <ul class="filter-container">
                            <li *ngFor="let action of actions"
                                class="filter-button"
                                [class.filter-activated]="isActiveFilter(action)"
                                (click)="activateFilter(action)">
                                <div class="filter-button-title">{{action.Title}}</div>
                                <div class="filter-button-description">{{action.Description}}</div>
                                <div class="filter-button-duration">{{action.ExpectedDuration}}</div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
